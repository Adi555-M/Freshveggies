<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Parshv Foods - Fresh Vegetable Order</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* General Styles */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #d0f0c0; /* Light green parrot color */
      color: #333;
    }

    /* Notice Section */
    .notice-bar {
      background-color: #ffcc00;
      color: #000;
      text-align: center;
      padding: 10px;
      font-size: 0.9em;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
    }

    /* Navigation Menu */
    .navbar {
      background-color: #4CAF50;
      overflow: hidden;
      padding: 10px;
      margin-top: 40px; /* To account for the fixed notice bar */
    }

    .navbar a {
      float: left;
      display: block;
      color: #fff;
      text-align: center;
      padding: 10px 20px;
      text-decoration: none;
      font-size: 1.1em;
    }

    .navbar a:hover {
      background-color: #45a049;
    }

    /* Container for all pages */
    .container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* Login Screen */
    .login-screen {
      text-align: center;
    }

    .login-screen h1 {
      color: #4CAF50;
      font-size: 2em;
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 15px;
      text-align: left;
    }

    .form-group label {
      display: block;
      font-weight: bold;
      color: #555;
      margin-bottom: 5px;
    }

    .form-group input {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
    }

    .login-screen button {
      width: 100%;
      padding: 10px;
      background-color: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 5px;
      font-size: 1.1em;
      cursor: pointer;
      margin-top: 10px;
    }

    .login-screen button:hover {
      background-color: #45a049;
    }

    /* Vegetable List */
    .vegetable-list {
      margin-bottom: 20px;
    }

    .vegetable-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      padding: 10px;
      background-color: #f9f9f9;
      border: 2px solid #4CAF50; /* Green border */
      border-radius: 5px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .vegetable-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .vegetable-item span {
      font-size: 1.1em;
      color: #4CAF50; /* Green color for vegetable names */
      font-weight: bold;
    }

    .unit-selection {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .price-display {
      font-size: 0.9em;
      color: #555;
    }

    .total {
      font-size: 1.2em;
      font-weight: bold;
      text-align: right;
      margin-top: 20px;
      color: #4CAF50;
    }

    .btn {
      display: block;
      width: 100%;
      padding: 15px;
      background-color: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 5px;
      font-size: 1.1em;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .btn:hover {
      background-color: #45a049;
      transform: translateY(-3px);
    }

    .btn:active {
      transform: translateY(0);
    }

    .hidden {
      display: none;
    }

    /* About Us Page */
    .about-us {
      text-align: center;
    }

    .about-us h2 {
      color: #4CAF50;
    }

    /* Contact Us Page */
    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .contact-form input,
    .contact-form textarea {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
    }

    .contact-form button {
      background-color: #4CAF50;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .contact-form button:hover {
      background-color: #45a049;
    }

    /* Media Queries for Mobile Responsiveness */
    @media (max-width: 600px) {
      h1 {
        font-size: 1.5em;
      }
      .vegetable-item {
        flex-direction: column;
        align-items: flex-start;
      }
      .unit-selection {
        width: 100%;
        justify-content: space-between;
      }
      .price-display {
        width: 100%;
        text-align: right;
      }
      .bottom-buttons {
        flex-direction: column;
      }
      .bottom-buttons .btn {
        width: 100%;
      }
      .navbar a {
        float: none;
        display: block;
        text-align: left;
      }
      .container {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Notice Section -->
  <div class="notice-bar">
    🚚 Free Delivery on Orders Above ₹500! 🚚
  </div>

  <!-- Navigation Menu -->
  <div class="navbar">
    <a href="#home" id="homeLink"><i class="fas fa-home"></i> Home</a>
    <a href="#about" id="aboutLink"><i class="fas fa-info-circle"></i> About Us</a>
    <a href="#contact" id="contactLink"><i class="fas fa-envelope"></i> Contact Us</a>
  </div>

  <!-- Home Page -->
  <div id="home" class="container">
    <div id="loginScreen">
      <h1>Welcome to Parshv Foods</h1>
      <form id="loginForm">
        <div class="form-group">
          <label for="loginName"><i class="fas fa-user"></i> Your Name</label>
          <input type="text" id="loginName" required>
        </div>
        <div class="form-group">
          <label for="loginAddress"><i class="fas fa-map-marker-alt"></i> Delivery Address</label>
          <input type="text" id="loginAddress" required>
        </div>
        <button type="submit" class="btn"><i class="fas fa-sign-in-alt"></i> Log In</button>
      </form>
    </div>

    <div id="orderScreen" class="hidden">
      <h1>Parshv Foods - Fresh Vegetable Order</h1>
      <form id="orderForm">
        <div class="vegetable-list" id="vegetableList">
          <!-- Vegetables will be added here dynamically -->
        </div>
        <div class="total">
          Total: ₹<span id="totalAmount">0.00</span>
        </div>
        <!-- Add the "View Your Order" button -->
        <button type="button" class="btn" id="viewOrderButton"><i class="fas fa-shopping-cart"></i> View Your Order</button>
        <button type="submit" class="btn"><i class="fab fa-whatsapp"></i> Place Order on WhatsApp</button>

        <!-- Horizontal Line Separator -->
        <hr class="separator">

        <!-- Bottom Buttons -->
        <div class="bottom-buttons">
          <button type="button" class="btn" id="howToOrderButton"><i class="fas fa-question-circle"></i> How to Order</button>
          <button type="button" class="btn" id="orderHistoryButton"><i class="fas fa-history"></i> Order History</button>
        </div>
      </form>
    </div>
  </div>

  <!-- About Us Page -->
  <div id="about" class="container hidden">
    <div class="about-us">
      <h2>About Us</h2>
      <p>Welcome to Parshv Foods! We are dedicated to providing fresh and high-quality vegetables to our customers. Our mission is to make healthy eating accessible and convenient for everyone.</p>
    </div>
  </div>

  <!-- Contact Us Page -->
  <div id="contact" class="container hidden">
    <h2>Contact Us</h2>
    <form class="contact-form" id="contactForm">
      <input type="text" id="contactName" placeholder="Your Name" required>
      <input type="email" id="contactEmail" placeholder="Your Email" required>
      <textarea id="contactMessage" placeholder="Your Message" rows="5" required></textarea>
      <button type="submit"><i class="fas fa-paper-plane"></i> Send Message</button>
    </form>
  </div>

  <!-- How to Order Section -->
  <div id="howToOrderSection" class="hidden how-to-order">
    <h2>How to Order</h2>
    <ol>
      <li>Log in with your name and address.</li>
      <li>Select the vegetables and quantities you want to order.</li>
      <li>Click "Place Order on WhatsApp" to confirm your order.</li>
      <li>You will be redirected to WhatsApp to finalize the order.</li>
    </ol>
    <button class="btn" id="backToOrderButton"><i class="fas fa-arrow-left"></i> Back to Order Screen</button>
  </div>

  <!-- Order History Section -->
  <div id="orderHistorySection" class="hidden order-history">
    <h2>Order History</h2>
    <div id="orderHistory"></div>
    <button class="btn" id="backToOrderButton2"><i class="fas fa-arrow-left"></i> Back to Order Screen</button>
  </div>

  <!-- Modal for Viewing the Cart -->
  <div id="cartModal" class="modal hidden">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Your Cart</h2>
      <div id="cartItems"></div>
      <p class="total">Total: ₹<span id="cartTotalAmount">0.00</span></p>
    </div>
  </div>

  <script>
    // DOM Elements
    const homeLink = document.getElementById('homeLink');
    const aboutLink = document.getElementById('aboutLink');
    const contactLink = document.getElementById('contactLink');
    const homePage = document.getElementById('home');
    const aboutPage = document.getElementById('about');
    const contactPage = document.getElementById('contact');
    const contactForm = document.getElementById('contactForm');
    const howToOrderButton = document.getElementById('howToOrderButton');
    const orderHistoryButton = document.getElementById('orderHistoryButton');
    const howToOrderSection = document.getElementById('howToOrderSection');
    const orderHistorySection = document.getElementById('orderHistorySection');
    const backToOrderButton = document.getElementById('backToOrderButton');
    const backToOrderButton2 = document.getElementById('backToOrderButton2');
    const loginScreen = document.getElementById('loginScreen');
    const orderScreen = document.getElementById('orderScreen');
    const loginForm = document.getElementById('loginForm');
    const loginName = document.getElementById('loginName');
    const loginAddress = document.getElementById('loginAddress');
    const vegetableList = document.getElementById('vegetableList');
    const viewOrderButton = document.getElementById('viewOrderButton');
    const cartModal = document.getElementById('cartModal');
    const cartItems = document.getElementById('cartItems');
    const cartTotalAmount = document.getElementById('cartTotalAmount');
    const closeModal = document.querySelector('.close');

    // Check if user is already logged in
    const savedName = localStorage.getItem('userName');
    const savedAddress = localStorage.getItem('userAddress');

    if (savedName && savedAddress) {
      loginScreen.classList.add('hidden');
      orderScreen.classList.remove('hidden');
    }

    // Navigation Event Listeners
    homeLink.addEventListener('click', () => {
      homePage.classList.remove('hidden');
      aboutPage.classList.add('hidden');
      contactPage.classList.add('hidden');
      howToOrderSection.classList.add('hidden');
      orderHistorySection.classList.add('hidden');
    });

    aboutLink.addEventListener('click', () => {
      homePage.classList.add('hidden');
      aboutPage.classList.remove('hidden');
      contactPage.classList.add('hidden');
      howToOrderSection.classList.add('hidden');
      orderHistorySection.classList.add('hidden');
    });

    contactLink.addEventListener('click', () => {
      homePage.classList.add('hidden');
      aboutPage.classList.add('hidden');
      contactPage.classList.remove('hidden');
      howToOrderSection.classList.add('hidden');
      orderHistorySection.classList.add('hidden');
    });

    // How to Order Button
    howToOrderButton.addEventListener('click', () => {
      homePage.classList.add('hidden');
      aboutPage.classList.add('hidden');
      contactPage.classList.add('hidden');
      howToOrderSection.classList.remove('hidden');
      orderHistorySection.classList.add('hidden');
    });

    // Order History Button
    orderHistoryButton.addEventListener('click', () => {
      homePage.classList.add('hidden');
      aboutPage.classList.add('hidden');
      contactPage.classList.add('hidden');
      howToOrderSection.classList.add('hidden');
      orderHistorySection.classList.remove('hidden');
      loadOrderHistory();
    });

    // Back to Order Screen Buttons
    backToOrderButton.addEventListener('click', () => {
      homePage.classList.remove('hidden');
      aboutPage.classList.add('hidden');
      contactPage.classList.add('hidden');
      howToOrderSection.classList.add('hidden');
      orderHistorySection.classList.add('hidden');
    });

    backToOrderButton2.addEventListener('click', () => {
      homePage.classList.remove('hidden');
      aboutPage.classList.add('hidden');
      contactPage.classList.add('hidden');
      howToOrderSection.classList.add('hidden');
      orderHistorySection.classList.add('hidden');
    });

    // Contact Form Submission
    contactForm.addEventListener('submit', function (e) {
      e.preventDefault();
      const name = document.getElementById('contactName').value;
      const email = document.getElementById('contactEmail').value;
      const message = document.getElementById('contactMessage').value;

      // Redirect to Gmail with pre-filled details
      const subject = "New Contact Form Submission";
      const body = `Name: ${name}%0D%0AEmail: ${email}%0D%0AMessage: ${message}`;
      const mailtoLink = `mailto:parshvfoods@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      window.location.href = mailtoLink;

      // Clear form
      contactForm.reset();
      alert('Thank you for contacting us! Your message has been sent.');
    });

    // Login Form Submission
    loginForm.addEventListener('submit', function (e) {
      e.preventDefault();
      const name = loginName.value;
      const address = loginAddress.value;
      localStorage.setItem('userName', name);
      localStorage.setItem('userAddress', address);
      loginScreen.classList.add('hidden');
      orderScreen.classList.remove('hidden');
    });

    // Vegetables Data
    const vegetables = [
      { name: 'ટામેટાં', price: 30, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ફુલાવર', price: 50, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'દેશી કોબીજ', price: 30, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ભીંડા', price: 90, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'વટાણા', price: 50, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'કાચા કેળા', price: 50, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'દૂધી', price: 50, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'દેશી દૂધી', price: 80, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'તુરીયું', price: 80, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'કારેલા', price: 80, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ટિંડોળા', price: 120, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ચોળી', price: 130, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'પાપડી', price: 160, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'તુવેર', price: 130, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'દેશી કાકડી', price: 80, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ગવાર', price: 120, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'મેથી', price: 40, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ચોલિયા ની ભાજી', price: 80, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'મકાઈ', price: 40, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'લીંબુ', price: 80, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'કેપ્સિકમ', price: 60, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'કોથમીર', price: 60, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'આમળા', price: 80, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ફણસી', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'લાલ મોગરી', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'લીલી મોગરી', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'રેગ્યુલર મરચા', price: 70, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'મોરા મરચા', price: 100, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'લાલ મરચા', price: 120, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'લવીંગ્યા મરચા', price: 70, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'કાચી કેરી', price: 180, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'પરવર', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'ફુદિનો', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'મીઠો લીંમડો', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'બ્રોકલી', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'જુગની', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'બેબીકોન', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'બેસિલ પત્તા', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'લાલ કેપ્સિકમ', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'પીળું કેપ્સિકમ', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'લીલી ચા', price: 0, unit: 'kg', options: ['kg', 'gram'] },
      { name: 'સફરજન', price: 0, unit: 'kg', options: ['kg', 'gram'] },
    ];

    // Function to render vegetables
    function renderVegetables() {
      vegetableList.innerHTML = vegetables.map(veg => `
        <div class="vegetable-item">
          <span>${veg.name} ₹${veg.price}/${veg.unit}</span>
          <div class="unit-selection">
            <input type="number" min="0" value="0" id="${veg.name.toLowerCase()}Qty">
            <select id="${veg.name.toLowerCase()}Unit">
              ${veg.options.map(option => `<option value="${option}">${option}</option>`).join('')}
            </select>
          </div>
          <div class="price-display" id="${veg.name.toLowerCase()}Price">₹0.00</div>
        </div>
      `).join('');
    }

    // Function to calculate total price
    function calculateTotal() {
      let total = 0;
      vegetables.forEach(veg => {
        const qtyInput = document.getElementById(`${veg.name.toLowerCase()}Qty`);
        const unitSelect = document.getElementById(`${veg.name.toLowerCase()}Unit`);
        const qty = parseFloat(qtyInput.value) || 0;
        const unit = unitSelect.value;
        let price = veg.price;

        // Convert grams to kilograms if necessary
        if (unit === 'gram') {
          price = price / 1000;
        }

        const itemTotal = qty * price;
        total += itemTotal;

        // Update the price display for each vegetable
        const priceDisplay = document.getElementById(`${veg.name.toLowerCase()}Price`);
        priceDisplay.textContent = `₹${itemTotal.toFixed(2)}`;
      });

      // Update the total amount
      const totalAmount = document.getElementById('totalAmount');
      totalAmount.textContent = total.toFixed(2);
    }

    // Function to load order history
    function loadOrderHistory() {
      const orders = JSON.parse(localStorage.getItem('orders')) || [];
      orderHistory.innerHTML = orders.map(order => `
        <div class="order-item">
          <p><strong>Name:</strong> ${order.name}</p>
          <p><strong>Address:</strong> ${order.address}</p>
          <p><strong>Order:</strong> ${order.items}</p>
          <p><strong>Total:</strong> ₹${order.total}</p>
          <p><strong>Date:</strong> ${order.date}</p>
        </div>
      `).join('');
    }

    // Event listener for quantity and unit changes
    vegetableList.addEventListener('input', calculateTotal);

    // Order Form Submission
    document.getElementById('orderForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const name = localStorage.getItem('userName');
      const address = localStorage.getItem('userAddress');
      const items = vegetables.map(veg => {
        const qtyInput = document.getElementById(`${veg.name.toLowerCase()}Qty`);
        const unitSelect = document.getElementById(`${veg.name.toLowerCase()}Unit`);
        const qty = parseFloat(qtyInput.value) || 0;
        const unit = unitSelect.value;
        let price = veg.price;

        // Convert grams to kilograms if necessary
        if (unit === 'gram') {
          price = price / 1000;
        }

        const itemTotal = qty * price;

        if (qty > 0) {
          return `${veg.name} - ${qty} ${unit} @ ₹${veg.price}/${veg.unit} = ₹${itemTotal.toFixed(2)}`;
        }
        return null;
      }).filter(item => item !== null).join('\n');

      const total = parseFloat(document.getElementById('totalAmount').textContent);

      if (items.length === 0) {
        alert('Please select at least one vegetable to place an order.');
        return;
      }

      const order = {
        name,
        address,
        items,
        total,
        date: new Date().toLocaleString(),
      };

      // Save order to history
      const orders = JSON.parse(localStorage.getItem('orders')) || [];
      orders.push(order);
      localStorage.setItem('orders', JSON.stringify(orders));

      // Redirect to WhatsApp
      const message = `Name: ${name}\nAddress: ${address}\nOrder:\n${items}\nTotal: ₹${total.toFixed(2)}`;
      const whatsappUrl = `https://wa.me/9879876030?text=${encodeURIComponent(message)}`;
      window.open(whatsappUrl, '_blank');

      // Reset form
      document.getElementById('orderForm').reset();
      calculateTotal();
    });

    // Function to display the current cart in the modal
    function viewOrder() {
      const items = vegetables
        .map((veg) => {
          const qtyInput = document.getElementById(`${veg.name.toLowerCase()}Qty`);
          const unitSelect = document.getElementById(`${veg.name.toLowerCase()}Unit`);
          const qty = parseFloat(qtyInput.value) || 0;
          const unit = unitSelect.value;

          if (qty > 0) {
            return `<div class="cart-item">
                      <span>${veg.name} - ${qty} ${unit}</span>
                      <span>₹${(qty * (unit === 'gram' ? veg.price / 1000 : veg.price)).toFixed(2)}</span>
                    </div>`;
          }
          return null;
        })
        .filter((item) => item !== null)
        .join('');

      const total = parseFloat(document.getElementById('totalAmount').textContent);

      if (items.length === 0) {
        cartItems.innerHTML = '<p>Your cart is empty. Please add some vegetables to view your order.</p>';
      } else {
        cartItems.innerHTML = items;
      }

      cartTotalAmount.textContent = total.toFixed(2);
      cartModal.classList.remove('hidden');
    }

    // Add event listener for the "View Your Order" button
    viewOrderButton.addEventListener('click', viewOrder);

    // Close the modal when the close button is clicked
    closeModal.addEventListener('click', () => {
      cartModal.classList.add('hidden');
    });

    // Close the modal when clicking outside the modal
    window.addEventListener('click', (e) => {
      if (e.target === cartModal) {
        cartModal.classList.add('hidden');
      }
    });

    // Initial render
    renderVegetables();
    calculateTotal();
  </script>
</body>
</html>